---
title: "Final_Project_GRShipping"
author: "Alex Billinis"
format: html
editor: visual
---

## Quarto

Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see <https://quarto.org>.

## 

First of all, let's bring in the data, and, crucially, lets also separate dates by day, month, year.

```{r}
library(ggplot2)
library(maps)
library(tidyverse)
library(lubridate)
library(dplyr)
library(sf)
install.packages("rnaturalearthdata")
library(rnaturalearth)
```


```{r}
Grships <- read.csv("Greek_Ships_Sunk_MasterfileEXCEL.csv", header = TRUE)
```


```{r}
Tidy_Ships <- separate(Grships, col = Date, into = c("Day", "Month", "Year"), sep = "-", remove = FALSE)
#Tidy_Ships <- Tidy_Ships %>% mutate(Month = recode(Month,
           #             Jan = 1,
            #            Feb = 2,
            #            Mar = 3,
               #         Apr = 4,
              #          May = 5,
              #          Jun = 6,
              #          Jul = 7,
               #         Aug = 8,
                  #      Sep = 9,
                    #    Oct = 10,
                     #   Nov = 11,
                      #  Dec = 12))

```

Now, let's check data based on Greece's entry into World War Two. First, 28 October 1940, the day that Greece was attacked by Italy and entered World War Two, and, second, 6 April 1941, the day that Germany attacked Greece. The question is, how many Greek ships were sunk when Greece was not involved in the war at all?

```{r}
Tidy_Ships %>% filter(Year <= 40) %>% filter(Month <= 10) %>% filter(Day <= 28)
```

```{r}
Pre_Oct <- Tidy_Ships %>% filter(Date < "30-Oct-40") %>% filter(Year <= 40)
```

```{r}
Pre_April <- Tidy_Ships %>% filter(Year != 44) %>% filter(Year !=43) %>%  filter(Year != 42) %>% filter(Year <= 41) %>% filter(Date < "5-Apr-41")

```

```{r}
library(ggplot2)
Grcategory <- Pre_Oct %>% group_by(Event) %>% summarize(count = n())
ggplot(Grcategory, aes(x = Event, y = count)) + geom_col() 


```
```{r}
Grcategory <- Pre_April %>% group_by(Event) %>% summarize(count = n())
ggplot(Grcategory, aes(x = Event, y = count)) + geom_col()
```

It is worth contrasting the Greek Ships' losses while neutral with the American. From September 3 1939 to December 6, 1941, there are only

```{r}
Amships <- read.csv("USShips_Pre12_7.csv")
Amcategory <- Amships %>% group_by(Flag) %>% summarize(count = n()) 
ggplot(Amcategory, aes(x = Flag, y = count)) + geom_col()
```

The `echo: false` option disables the printing of code (only output is displayed).

```         
```

```{r}

AerialAtl <- Grships %>% 
  filter(Event == "Aerial Bombing" & Location == "Atlantic")
head(AerialAtl)
```

```{r}
library(ggplot2)
library(maps)
library(tidyverse)
library(sf)
```


```{r}
library(rnaturalearth)

```


```{r}
world <- ne_countries(scale = "medium", returnclass = "sf")
Europe <- world[which(world$continent == "Europe"),]
map <- ggplot(Europe) +
  geom_sf() +
  coord_sf(xlim = c(-25,50), ylim = c(35,70), expand = FALSE)
map + geom_point(data=AerialAtl, mapping=aes(x=Long, y=Lat, group=NULL), color='blue')
```

```{r}
Atlmap <- map_data("ocean", ocean = "Atlantic")
```

```{r}
world <- ne_countries(scale = "medium", returnclass = "sf")
EuropeGR <- world[which(world$continent == "Europe")] %>% filter(country == "Greece")
map <- ggplot(Europe) +
  geom_sf() +
  coord_sf(xlim = c(-25,50), ylim = c(35,70), expand = FALSE)
map + geom_point(data=AerialMed, mapping=aes(x=Long, y=Lat, group=NULL), color='blue')
```

```{r}
ggplot(AerialAtl,aes(x = Longitud, y = Latitude)) + 
  geom_map(data = Atlantic, map = Atlantic, aes(long, lat, map_id=region)) +
  geom_point(data = AerialAtl, mapping = aes(x=lon, y=lat))
```

```{r}
AerialMed <- Grships %>% 
  filter(Event == "Aerial Bombing" & Location == "Mediterranean")
```
#
```{r}
ggplot(data = world) +
    geom_sf() +
    xlab("Longitude") + ylab("Latitude") +
    ggtitle("World map", subtitle = paste0("(", length(unique(world$NAME)), " countries)"))
```

```{r}
GrShipEvent <- Tidy_Ships %>% group_by(Event) %>% summarize(count = n())
ggplot(GrShipEvent, aes(x = Event, y = count)) + geom_col()
```

```{r}
GrShipYear <- Tidy_Ships %>% group_by(Year) %>% summarize(count = n())
ggplot(GrShipYear, aes(x = Year, y = count)) + geom_col()
```

